/**
 * Responsive Notification Badge Enhancements
 * CSS สำหรับ responsive design ในหน้าจอขนาดต่างๆ
 */

/* ==========================================================================
   MOBILE RESPONSIVENESS
   ========================================================================== */

/* Mobile Devices (320px - 767px) */
@media (max-width: 767.98px) {
    
    /* ปรับขนาด badge ให้เหมาะกับหน้าจอเล็ก */
    .badge-counter,
    .nav-link .badge {
        min-width: 16px;
        height: 16px;
        font-size: 10px;
        font-weight: 600;
        line-height: 16px;
        padding: 0;
        top: -8px;
        right: -8px;
    }
    
    /* ขยายพื้นที่สำหรับแตะ */
    .nav-link {
        position: relative;
        min-width: 48px;
        min-height: 48px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    /* ปรับ dropdown width */
    .dropdown-list {
        min-width: 280px;
        max-width: 90vw;
        left: auto !important;
        right: 0 !important;
        transform: none !important;
    }
    
    /* ซ่อนข้อความใน navbar บนมือถือ */
    .topbar .dropdown-toggle::after {
        display: none;
    }
    
    /* ปรับ icon size */
    .topbar .nav-link i {
        font-size: 18px;
    }
}

/* Small Mobile (320px - 575px) */
@media (max-width: 575.98px) {
    
    .badge-counter,
    .nav-link .badge {
        min-width: 14px;
        height: 14px;
        font-size: 9px;
        top: -6px;
        right: -6px;
    }
    
    .dropdown-list {
        min-width: 260px;
        margin-left: -50px;
    }
    
    /* ปรับ notification content */
    .dropdown-item {
        padding: 8px 12px;
        font-size: 13px;
    }
    
    .dropdown-item small {
        font-size: 11px;
    }
}

/* ==========================================================================
   TABLET RESPONSIVENESS
   ========================================================================== */

/* Tablet Portrait (768px - 991px) */
@media (min-width: 768px) and (max-width: 991.98px) {
    
    .badge-counter,
    .nav-link .badge {
        min-width: 18px;
        height: 18px;
        font-size: 11px;
        top: -9px;
        right: -9px;
    }
    
    .dropdown-list {
        min-width: 320px;
    }
}

/* ==========================================================================
   DESKTOP ENHANCEMENTS
   ========================================================================== */

/* Large Desktop (1200px+) */
@media (min-width: 1200px) {
    
    .badge-counter,
    .nav-link .badge {
        min-width: 20px;
        height: 20px;
        font-size: 12px;
        font-weight: 600;
    }
    
    /* เพิ่ม hover effects ที่ชัดเจนขึ้น */
    .nav-link:hover .badge-counter,
    .nav-link:hover .badge {
        animation: badgeHover 0.3s ease-in-out;
    }
    
    @keyframes badgeHover {
        0% { transform: scale(1); }
        50% { transform: scale(1.1); }
        100% { transform: scale(1); }
    }
}

/* ==========================================================================
   ACCESSIBILITY ENHANCEMENTS
   ========================================================================== */

/* Focus States */
.nav-link:focus .badge-counter,
.nav-link:focus .badge {
    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
    outline: none;
}

/* High Contrast Mode */
@media (prefers-contrast: high) {
    .badge-counter,
    .nav-link .badge {
        border: 2px solid #000;
        color: #000;
        background-color: #fff !important;
        font-weight: 700;
    }
    
    .notification-badge {
        background-color: #fff !important;
        color: #000 !important;
        border: 2px solid #000;
    }
    
    .message-badge {
        background-color: #fff !important;
        color: #000 !important;
        border: 2px solid #000;
    }
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
    .badge-counter,
    .nav-link .badge,
    .notification-badge,
    .message-badge {
        animation: none !important;
        transition: none !important;
    }
}

/* ==========================================================================
   PRINT STYLES
   ========================================================================== */

@media print {
    .badge-counter,
    .nav-link .badge,
    .notification-badge,
    .message-badge {
        display: none !important;
    }
}

/* ==========================================================================
   SIDEBAR COLLAPSED STATES
   ========================================================================== */

/* เมื่อ sidebar ถูกยุบ */
.sidebar-toggled .topbar {
    margin-left: 0;
}

.sidebar-toggled .badge-counter,
.sidebar-toggled .nav-link .badge {
    /* ปรับตำแหน่งเมื่อ sidebar ยุบ */
    position: absolute;
    top: -8px;
    right: -8px;
}

/* ==========================================================================
   DARK MODE SUPPORT
   ========================================================================== */

@media (prefers-color-scheme: dark) {
    .badge-counter,
    .nav-link .badge {
        background-color: #e74c3c !important;
        color: #ffffff !important;
        border: 1px solid #c0392b;
    }
    
    .notification-badge {
        background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%) !important;
        color: #ffffff !important;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    }
    
    .message-badge {
        background: linear-gradient(135deg, #3498db 0%, #2980b9 100%) !important;
        color: #ffffff !important;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    }
}

/* ==========================================================================
   ANIMATION REFINEMENTS
   ========================================================================== */

/* Smooth transitions สำหรับ responsive breakpoints */
.badge-counter,
.nav-link .badge,
.notification-badge,
.message-badge {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Enhanced pulse animation */
@keyframes enhancedPulse {
    0% { 
        box-shadow: 0 0 0 0 rgba(231, 76, 60, 0.7);
        transform: scale(1);
    }
    70% { 
        box-shadow: 0 0 0 10px rgba(231, 76, 60, 0);
        transform: scale(1.05);
    }
    100% { 
        box-shadow: 0 0 0 0 rgba(231, 76, 60, 0);
        transform: scale(1);
    }
}

/* Enhanced notification animation */
@keyframes newNotificationEnhanced {
    0% { 
        transform: scale(1) rotate(0deg);
        background-color: #e74c3c;
    }
    25% { 
        transform: scale(1.2) rotate(3deg);
        background-color: #ff6b6b;
    }
    50% { 
        transform: scale(1.3) rotate(-3deg);
        background-color: #e74c3c;
    }
    75% { 
        transform: scale(1.1) rotate(1deg);
        background-color: #ff6b6b;
    }
    100% { 
        transform: scale(1) rotate(0deg);
        background-color: #e74c3c;
    }
}

/* Apply enhanced animations */
.badge-counter.new-notification,
.nav-link .badge.new-notification {
    animation: newNotificationEnhanced 0.8s ease-out;
}

.badge-counter.pulsing,
.nav-link .badge.pulsing {
    animation: enhancedPulse 2s infinite;
}

/* ==========================================================================
   UTILITY CLASSES
   ========================================================================== */

/* Hide badge */
.badge-hidden {
    display: none !important;
}

/* Emergency notification (สีแดงเข้ม) */
.badge-emergency {
    background-color: #dc3545 !important;
    color: #ffffff !important;
    animation: badgeShake 0.5s ease-in-out infinite alternate;
}

/* Success notification (สีเขียว) */
.badge-success {
    background-color: #28a745 !important;
    color: #ffffff !important;
}

/* Warning notification (สีส้ม) */
.badge-warning {
    background-color: #ffc107 !important;
    color: #212529 !important;
}

/* Info notification (สีฟ้า) */
.badge-info {
    background-color: #17a2b8 !important;
    color: #ffffff !important;
}

@keyframes badgeShake {
    0% { transform: translateX(0); }
    100% { transform: translateX(2px); }
}